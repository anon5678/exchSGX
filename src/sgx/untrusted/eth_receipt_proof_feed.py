import requests
import json
import sys

def ethReceiptProofVerify(proof):
    try:
        url = "http://localhost:1234"
        headers = {'content-type': 'application/json'}

        payload = {
            'method': 'ethReceiptProofVerify',
            'params': [proof],
            'jsonrpc': '2.0',
            'id' : 0,
        }

        resp = requests.post(url, data=json.dumps(payload), headers=headers).json()

        print resp

    except Exception as e:
        print 'Exception:', e.message

# python eth_balance_proof_feed.py blocknumber contract_addr user_addr token_addr offset
# python eth_balance_proof_feed.py 4646516 0x8d12A197cB00D4747a1fe03395095ce2A5CC6819 0x2c6512deAAAcf0C27470b91C1781859C0C46a20F 0x0000000000000000000000000000000000000000 0x0000000000000000000000000000000000000006

proof = "0xf904b8f904b0f90131a0918f9acd5b63e0054bc4ac55a5ae37c31f9127ee38b6ff1a5f7ce5cb3230f758a0bde470436497801dcc9b5d4e7537bb9bff9a7baa59874931a431663aa911c66aa0f2db575eda845dd5b3c7e6e0a083f069707bd2f03c2a6483bd81bc8719dd9856a0ce46f98e70afecceb61c170fdbb6d596dab5b9186ebe7ca1eeffa1e093117d58a0105f3ac671522825802c2c2543089242e3f08783b904cd41bd857ab6a684e06da0eadd46261e9412899bf8c99df21bfb91a9fba8ffbf7b7202c9db06ecb69f2102a0f8f93003135aba344a7f717c37596d527dc73ef3cc52f6730a864c11ab7b1efca05819dcd27f70d798e19e694db41af452064b898af70d6b05b1e99f4ffb1ee286a038d2d8959cc114c24678930e4e76f963e42cbf5f5b3cc38f657f6e7178f6f3998080808080808080f901b1a053aa4a00f75d0b9f44a9aabf3bc57424fadd6227882c027dee9bb97480257744a0cc85ec3fca7630d54e544c98ca58debdf1a08af2cb671a6754029cef3d9b8973a073ce9c390a6cabf8b212d5ff673c0001fbd167e06cba8732ca47d01b60366604a045686322518d4d78c71515ffabfaadcad6b89053a7e8a4b7994167c779a5544ca0b9262ce9169d7cb24f1991947ea0961cbf4db88355c1c9169706f7c04b9204eda06c2c7e0e62df34ba058934842af1185eb18e6eff6168f407b1b2fcae179e8042a0a00eeb4535cfb22a169e5291762c3758b823f788c87bb15b766b7975dc721926a046b925fcd330e830c23b81298a244741eee38f9a88d4e2d29bf930bba7238d55a03bcc2543f99fdba2361c59dc986ade73b7a94c977c3dea15027fd95c27a41239a03bec98bd4bf861105fc40675b6882244c9c798c39994777b6da9439b942254c0a0cce384354782d088c77d367e5bbf95f96610647616a6f9f261b3d340f769f3cfa0d9ee7c3bdcbb5a2575a7ba87730878b48eef358cf2bf13c5effa62d657b2839ea09ebf08da4221e66870036ae11d64604ba20f66b382de7eb885d1f18878a883f580808080f901c520b901c1f901be01834df39db9010000000000000000000000000000000002000000000000000000100000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000004000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000800000000000000000000000f8b4f85894209c4784ab1e8183cf58ca33cb740efbf3fc18efe1a023919512b2162ddc59b67a65e3b03c419d4105366f7d4a632f5d3c3bee9b1cffa000000000000000000000000032be343b94f860124dc4fee278fdcbd38c102d88f85894300e88071c229251eae01070ac12a6e0b2fa977be1a023919512b2162ddc59b67a65e3b03c419d4105366f7d4a632f5d3c3bee9b1cffa0000000000000000000000000209c4784ab1e8183cf58ca33cb740efbf3fc18ef738346e4d1"
ethReceiptProofVerify(proof)